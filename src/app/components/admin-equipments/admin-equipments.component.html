<div class="admin-container">
  <h1>ğŸ”§ FelszerelÃ©sek kezelÃ©se</h1>

  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

  <!-- ğŸ”¹ Ãšj felszerelÃ©s hozzÃ¡adÃ¡sa -->
  <div class="add-equipment">
    <input type="text" [(ngModel)]="newEquipment.name" placeholder="NÃ©v">
    <input type="text" [(ngModel)]="newEquipment.manufacturer" placeholder="GyÃ¡rtÃ³">
    <input type="text" [(ngModel)]="newEquipment.size" placeholder="MÃ©ret (opcionÃ¡lis)">
    <input type="number" [(ngModel)]="newEquipment.price" placeholder="Ãr">
    <select [(ngModel)]="newEquipment.equipmentCategoryId">
      <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
    </select>
    <button (click)="addEquipment()">â• HozzÃ¡adÃ¡s</button>
  </div>

  <!-- ğŸ”¹ FelszerelÃ©sek listÃ¡ja -->
  <ul class="equipment-list">
    <li *ngFor="let equipment of equipments">
      <div *ngIf="editEquipmentId !== equipment.id">
        <strong>{{ equipment.name }}</strong> - {{ equipment.manufacturer }} - {{ equipment.price }} Ft
        <span *ngIf="equipment.size"> ({{ equipment.size }})</span>
        <span class="category-info">KategÃ³ria: {{ equipment.equipmentCategory?.name }}</span>
      </div>

      <!-- ğŸ”¹ SzerkesztÅ‘ mezÅ‘k -->
      <div *ngIf="editEquipmentId === equipment.id">
        <input type="text" [(ngModel)]="editEquipment.name">
        <input type="text" [(ngModel)]="editEquipment.manufacturer">
        <input type="text" [(ngModel)]="editEquipment.size">
        <input type="number" [(ngModel)]="editEquipment.price">
        <select [(ngModel)]="editEquipment.equipmentCategoryId">
          <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
        </select>
      </div>

      <button *ngIf="editEquipmentId !== equipment.id" (click)="startEdit(equipment)">âœï¸ SzerkesztÃ©s</button>
      <button *ngIf="editEquipmentId === equipment.id" (click)="saveEdit()">ğŸ’¾ MentÃ©s</button>
      <button (click)="openDeleteModal(equipment)">ğŸ—‘ï¸ TÃ¶rlÃ©s</button>
    </li>
  </ul>

  <!-- ğŸ”¹ TÃ¶rlÃ©s megerÅ‘sÃ­tÅ‘ modal -->
  <div id="deleteModal" class="modal">
    <div class="modal-content">
      <p>Biztosan tÃ¶rÃ¶lni szeretnÃ©d ezt a felszerelÃ©st?</p>
      <button (click)="confirmDelete()">âœ… Igen</button>
      <button (click)="closeDeleteModal()">âŒ MÃ©gse</button>
    </div>
  </div>
</div>
