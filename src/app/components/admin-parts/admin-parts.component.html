<div class="admin-container">
    <h1>üõ†Ô∏è Alkatr√©szek kezel√©se</h1>

    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

    <div class="filters">
        <label>V√°lassz aut√≥m√°rk√°t:</label>
        <select [(ngModel)]="selectedBrandId" (change)="loadCarModels()">
          <option [value]="null">-- V√°lassz aut√≥m√°rk√°t --</option>
          <option *ngFor="let brand of carBrands" [value]="brand.id">{{ brand.name }}</option>
        </select>

        <label>V√°lassz aut√≥modellt:</label>
        <select [(ngModel)]="selectedModelId">
          <option [value]="null">-- V√°lassz aut√≥modellt --</option>
          <option *ngFor="let model of carModels" [value]="model.id">{{ model.name }}</option>
        </select>

        <label>V√°lassz alkatr√©sz kateg√≥ri√°t:</label>
        <select [(ngModel)]="selectedCategoryId" (change)="loadParts()">
          <option [value]="null">-- V√°lassz alkatr√©sz kateg√≥ri√°t --</option>
          <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
        </select>
    </div>

    <div class="add-part">
        <input type="text" [(ngModel)]="newPart.name" placeholder="Alkatr√©sz neve">
        <input type="number" [(ngModel)]="newPart.price" placeholder="√År">
        <button (click)="addPart()">‚ûï Hozz√°ad√°s</button>
    </div>

    <ul class="part-list">
        <li *ngFor="let part of parts">
            <strong>{{ part.name }}</strong> - {{ part.price }} Ft
            <button (click)="startEdit(part)">‚úèÔ∏è Szerkeszt√©s</button>
            <button (click)="openDeleteModal(part)">üóëÔ∏è T√∂rl√©s</button>
        </li>
    </ul>

    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <p>Biztosan t√∂r√∂lni szeretn√©d ezt az alkatr√©szt?</p>
            <button (click)="confirmDelete()">‚úÖ Igen</button>
            <button (click)="closeDeleteModal()">‚ùå M√©gse</button>
        </div>
    </div>
</div>
